# GIT使用规范

## 目的

为了规范代码库使用、分支管理和版本管理，使代码分支及版本结构清晰，方便维护，并避免由于维护造成的错误的版本发布等问题。

## 适用范围

适用于所有开发。

## 内容

#### 提交代码说明规范
- [+]增加的需求
- [-]删减的需求
- [*]优化的需求
- [!]修复bug的需求

#### Code Review
- 除个人分支外，都设置为 `protected`
- 提交代码必须通过页面的 `Merge Requests`

#### 提交代码频率规范
- 每天至少提交一次，提交前必须 `merge` 对应分支
- 建议每周至少`merge`一次`master`
- 养成完成需求随时提交的习惯

#### 代码开发发布规范
- 迭代开始从`master`新建版本分支
    - 开发人员从此分支拉出个人分支进行开发
- 测试环境代码为版本迭代分支
- 发布
    - merge master最新代码
    - 自测
    - 合并到预发布分支进行测试
    - 合并到`master`分支发布代码
    - 生成版本号 TAG
    - 删除开发分支

#### GIT 分支管理
- 通常每个项目的代码将包括
    - master：主分支，一定等于生产环境中部署的代码
    - staging: 预发布分支
    - feature：开发分支，用于测试，每个人开发从此分支拉取个人分支进行开发
    - fix：修复分支
    - user: 个人开发分支
    - TAG：每次发布后都生成对应的版本号TAG
- 分支的命名规则分别
    - feature-{v}-{info}-{date}: `feature-0.0.1-test-20180801`
    - fix-{v}-{info}-{date}: `fix-0.0.1-test-20180801`
    - user-{name}-{v}-{info}-{date}: `user-ray-0.0.1-test-20180801`
        - v：版本号
        - info：特性
        - date：创建日期
- 当上线成功后 删除分支
